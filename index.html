<!DOCTYPE html>
<html>
    <body>
        <h1>Hello World</h1>
        <p>I'm hosted with GitHub Pages.</p>
    </body>
    <script src="//d3js.org/d3.v3.min.js"></script>
    <script>
    
        
    var w = 960,
        h = 500,
        z = 20,
        x = w / z,
        y = h / z;

    var svg = d3.select("body").append("svg")
        .attr("width", w)
        .attr("height", h);

    svg.selectAll("rect")
        .data(d3.range(x * y))
    .enter().append("circle")
        .attr("transform", translate)
        .attr("width", z/2)
        .attr("r",z/1.5)
        .attr("height", z/2)
        .style("fill", function(d) { return d3.hsl(d % x / x * 360, 1, Math.floor(d / x) / y); })
        .on("mouseover", mouseover1);

    function translate(d) {
    return "translate(" + ((d % x) * z +10) + "," + (Math.floor(d / x) * z+10) + ")";
    }

    function mouseover(d) {
    this.parentNode.appendChild(this);

    d3.select(this)
        .style("pointer-events", "mousedown")
        .transition()
        .attr("transform", "translate(480,480)scale(23)rotate(180)")

        .transition().duration(2000)
        .attr("transform",translate);;
    }

    function mouseover1(d) {
    this.parentNode.appendChild(this);
    d3.select(this)
        .style("pointer-events", "mousedown") // changing this from none to mousdown made this repeatable
        .transition()
        .attr("transform", "translate(" + (d % x-1) * z  + "," + Math.floor(d / x -1) * z +")" + " scale(" + 3 + ")")
        .transition().duration(2000)
        .attr("transform",translate);//"translate("+d.x +"," + d.y +")scale(2)rotate(180)");
    }

    
    
    
    </script>
</html>